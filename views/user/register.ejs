<!DOCTYPE html>
<html>
<head>
	<title>Register</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" type="text/css" href="userStyle/login.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

	<style>
        .error-message {
            color: red;
        }
    </style>
</head>
<body>
	<div class="container-fluid">
		<div class="row">
			<div class="col-lg-6 col-md-6 form-container">
				<div class="col-lg-8 col-md-12 col-sm-9 col-xs-12 form-box text-center">
					<div class="logo mt-5 mb-3">
						<!-- <img src="image/logo.png" width="150px"> -->
					</div>
					<div class="heading mb-3">
						<h4>Create an account</h4>
					</div>
					<form id="registerForm" action="/signup" method="post" onsubmit="return validateForm()">
						<div class="form-input">
							<span><i class="fa fa-user"></i></span>
							<input type="text" id="name" name="name" placeholder="Full Name">
							<div id="name-error" class="text-danger"></div>
						</div>
						<div class="form-input">
							<span><i class="fa fa-envelope"></i></span>
							<input type="email" id="email" name="email" placeholder="Email Address" >
							<div id="email-error" class="text-danger"></div>
							<% if (errorMessage) { %>
                                    <div class="alert alert-danger" id="errorMessage">
                                        <%= errorMessage %>
                                    </div>
                                    <% } %>
									
						</div>
						<div class="form-input">
							<span><i class="fa fa-lock"></i></span>
							<input type="password" id="password" name="password" placeholder="Password">
							<div id="password-error" class="text-danger"></div>
						</div>
						<div class="form-input">
							<span><i class="fa fa-lock"></i></span>
							<input type="password" id="conpassword" name="conpassword" placeholder="Confirm password">
							<div id="conpassword-error" class="text-danger"></div>
						</div>
						<div class="row mb-3">
							<div class="col-12 d-flex">
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="cb1">
									<label class="custom-control-label text-white" for="cb1">I agree all terms & conditions</label>
								</div>
							</div>
						</div>
						<div class="text-left mb-3">
							<button type="submit" class="btn">Register</button>
						</div>
						<div class="text-white mb-3">or register with</div>
						<div class="row mb-3">
							<div class="col-4">
								<a href="" class="btn btn-block btn-social btn-facebook">
									<i class="fa fa-facebook"></i>
								</a>
							</div>
							<div class="col-4">
								<a href="" class="btn btn-block btn-social btn-google">
									<i class="fa fa-google"></i>
								</a>
							</div>
							<div class="col-4">
								<a href="" class="btn btn-block btn-social btn-twitter">
									<i class="fa fa-twitter"></i>
								</a>
							</div>
						</div>
						<div class="text-white">Already have an account?
							<a href="login.html" class="login-link">Login here</a>
						</div>
					</form>
				</div>
			</div>

			<div class="col-lg-6 col-md-6 d-none d-md-block image-container"></div>
		</div>
	</div>
</body>



<script>
	
	function validateForm() {
		var name = document.getElementById('name').value;
		var email = document.getElementById('email').value;
		var password = document.getElementById('password').value;
		var conpassword = document.getElementById('conpassword').value;
		var isValid=true;

		document.getElementById('name-error').innerHTML = '';
		document.getElementById('email-error').innerHTML = '';
		document.getElementById('password-error').innerHTML = '';
		document.getElementById('conpassword-error').innerHTML = '';


		if (!name) {
			document.getElementById('name-error').innerHTML = 'Full Name is required';
			isValid=false;
		}

		
		if (!email) {
			document.getElementById('email-error').innerHTML = 'Email is required';
			isValid=false;
		} else {
            
            var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                document.getElementById('email-error-msg').innerHTML = 'Invalid email format';
                isValid = false;
            }
        }

		
		if (!password) {
    document.getElementById('password-error').innerHTML = 'Password is required';
    isValid=false;
} else {
    if (password.indexOf(' ') !== -1) {
        document.getElementById('password-error').innerHTML = 'Password cannot contain spaces';
        isValid = false;
    } else if (!/^[a-zA-Z0-9!@#$%^&*()_+=\-[\]{};:'"|<,>.?\/]+$/.test(password)) {
        document.getElementById('password-error').innerHTML = 'Password cannot contain spaces or special characters';
        isValid = false;
    }
}

		return isValid; 
	}
</script>

</html>